/*
 AngularDrop v0.0.1-05022bb
 (c) 2013 Caitlin Potter & Contributors. http://caitp.github.io/angular-drop
 License: MIT
*/
(function(r,t,n){'use strict';function p(){}function q(){}var m={full:"0.0.1-05022bb",major:"0",minor:"0",dot:"1",codeName:"badger"},g,s={"false":!1,"true":!0,"":!0},l=function(a,b,d){Object.defineProperty?Object.defineProperty(a,b,{get:d,set:function(){},configurable:!1,enumerable:!0}):a.__defineGetter__?a.__defineGetter__(b,d):a[b]=d()},f={nodeEq:function(a,b){return typeof("string"===a.nodeName?a.nodeName:a[0].nodeName).toUpperCase()===b},offset:function(a){a=a.length?a[0]:a;var b={top:0,left:0},
d=a&&a.ownerDocument;if(d){d=d.documentElement;if(!f.contains(d,a))return b;angular.isFunction(a.getBoundingClientRect)&&(b=a.getBoundingClientRect());a=f.window(d);return{top:b.top+a.pageYOffset-d.clientTop,left:b.left+a.pageXOffset-d.clientLeft}}},contains:function(a,b){var d=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||1!==e.nodeType||!f.contains(d,e))},window:function(a){a="undefined"===typeof a.nodeName&&"number"===typeof a.length?a[0]:a;return f.isWindow(a)?a:9===
a.nodeType&&a.defaultView||a.ownerDocument&&(a.ownerDocument.defaultView||a.ownerDocument.parentWindow)},isWindow:function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},swapCss:function(a,b,d,e){var h,c={};for(h in b)c[h]=a.style[h],a.style[h]=b[h];d=d.apply(a,e||[]);for(h in b)a.style[h]=c[h];return d},swapDisplay:/^(none|table(?!-c[ea]).+)/,cssShow:{position:"absolute",visibility:"hidden",display:"block"},size:function(a){function b(a){return{width:a.offsetWidth,height:a.offsetHeight}}
var d=angular.element(a);a=a.nodeName?a:a[0];return 0===a.offsetWidth&&f.swapDisplay.test(d.css("display"))?f.swapCss(a,f.cssShow,b,[a]):b(a)},keepSize:function(a){a=f.size(a);a.width+="px";a.height+="px";return a}},u={dragKeepSize:"keepSize"},v=["$drag","$document","$interpolate","$timeout",function(a,b,d,e){return{restrict:"A",link:function(e,c,b){var k={};angular.forEach(u,function(a,c){if("undefined"!==typeof b[c]){var g;a:if(g=d(b[c],!1)(e),"string"===typeof g){var f;if(s.hasOwnProperty(g)){g=
s[g];break a}else f=parseInt(g,10),f===f&&(g=f)}k[a]=g}});a.draggable(c,k)}}}],w=function(){function a(a){angular.isUndefined(a)&&(a=r.event||{pageX:0,pageY:0,preventDefault:function(){}});angular.isFunction(a.preventDefault)||(a.preventDefault=function(){});return a}this.$get=["$document","$drop",function(b,d){var e={isDraggable:function(a){return!!e.draggable(a,!1)},draggable:function(a,e){a=angular.element(a);var b=a.data("$draggable");if(b)return b;if(!1===e)return n;e=angular.extend({constraints:null,
delay:500,distance:1},e||{});b=new p;b.element=a;b.options=e;a.on("mousedown",b.dragStart);a.data("$draggable",b);return b}};p.prototype={constructor:p,dragStart:function(h){h=a(h);h.preventDefault();var c=angular.isObject(this)&&this.constructor===p?this:e.draggable(this);g&&g.dragEnd(h);g=c;c.cssDisplay=c.element.css("display");c.hanging||(c.cssPosition=c.element.css("position"),c.options.keepSize&&(c.keepSize={width:c.element[0].style.width,height:c.element[0].style.height},c.element.css(f.keepSize(c.element))));
c.offset=c.positionAbs=f.offset(c.element);c.offset.scroll=!1;angular.extend(c.offset,{click:{top:h.pageY-c.offset.top,left:h.pageX-c.offset.left}});c.lastMouseY=h.pageY;c.lastMouseX=h.pageX;c.startEvent=h;c.element.css({position:"absolute",left:c.offset.left,top:c.offset.top});b.on("mousemove",c.drag);b.on("mouseup",c.dragEnd)},dragEnd:function(a){a.preventDefault();b.off("mousemove",self.drag);b.off("mouseup",self.dragEnd);d.drop(a)},drag:function(e){e=a(e);e.preventDefault();var c=g;if(c){var b=
c.element.prop("style"),d=e.pageY;e=e.pageX;var f=b.left||0,l;l=parseInt(b.top||0,10)+(d-c.lastMouseY);f=parseInt(f,10)+(e-c.lastMouseX);b.left=f+"px";b.top=l+"px";c.lastMouseY=d;c.lastMouseX=e}},finish:function(){this.element.css({position:this.cssPosition});g=n}};l(e,"current",function(){return g});l(e,"version",function(){return m});return e}];l(this,"version",function(){return m})},x=["$drop",function(a){return{restrict:"A",link:function(b,d,e){a.droppable(d)}}}],y=function(){this.$get=["$document",
"$rootScope",function(a,b){var d={isDroppable:function(a){return!!$drag.droppable(a,!1)},droppable:function(a,b){a=angular.element(a);var c=a.data("$droppable");if(c)return c;if(!1===b)return n;b=angular.extend({constraints:null,delay:500,distance:1},b||{});c=new q;c.element=a;c.options=b;a.data("$droppable",c);return c},drop:function(a,d){function c(){f.hanging=!0;f.element.css({display:f.cssDisplay});g=n;b.$emit("$badDrop",f)}if(g&&("undefined"===typeof a&&(a=r.event),angular.isObject(a)&&("number"===
typeof a.clientX&&"number"===typeof a.clientY?(d=a.clientY,a=a.clientX):"number"===typeof a.left&&"number"===typeof a.top&&(d=a.top,a=a.left)),"number"===typeof a&&"number"===typeof d)){var f=g,k;f.element.css({display:"none"});k=t.elementFromPoint(a,d);if(!k)return c();3===k.nodeType&&(k=k.parentNode);k=angular.element(k);k=k.inheritedData("$droppable");if(!k)return c();k.drop(f);return!0}}};q.prototype={constructor:q,drop:function(a,d){a=a||g;if("number"===typeof a.length||a.nodeName)a=angular.element(a).data("$draggable");
a&&a.constructor===p&&(d=angular.extend(d||{},{display:a.cssDisplay}),this.element.append(a.element),a.options.keepSize&&(a.element.css(a.keepSize),a.keepSize=n),a.element.css({display:d.display}),a.hanging=!1,b.$$phase||b.$apply(),a.finish())}};l(d,"version",function(){return m});return d}];l(this,"version",function(){return m})},z=function(){this.$get=[function(){var a={};l(a,"current",function(){return g});l(a,"version",function(){return m});return a}];l(this,"version",function(){return m})};(function(){angular.module("ui.drop",
[],["$provide",function(a){a.provider({$dnd:z,$drag:w,$drop:y})}]).directive({draggable:v,droppable:x})})()})(window,document);
//# sourceMappingURL=angular-drop.min.js.map
